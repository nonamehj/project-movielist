# MovieList App

## 프로젝트 개요

- MovieList App은 다양한 카테고리의 영화를 검색하고, 각 영화의 상세 정보를 확인할 수 있는 React 기반의 애플리케이션입니다. 사용자는 카테고리별 영화 목록을 탐색하고, 영화의 세부 정보를 볼 수 있습니다.

## 사용 기술

- **React**: 사용자 인터페이스를 구축하기 위한 라이브러리입니다.
- **React Router**: `BrowserRouter`를 사용하여 페이지 간의 이동을 구현하였습니다.
- **Context API**: 상태 관리를 위한 컨텍스트를 만들어, `useGlobalContext`를 통해 각 페이지에 상태를 전달하였습니다.
- **Fetch API**: 데이터를 가져오는 데 사용하였으며, `useCallback`을 사용하여 성능을 최적화하였습니다.
- **useParams**: 영화 목록에서 상세 페이지로 이동할 때 사용하였습니다.
- **useNavigate**: 검색 시 결과 페이지로 이동할 때 사용하였습니다.
- **useRef**: 검색 입력 필드에서 리렌더링을 방지하는 데 사용하였습니다.
- **useEffect**:
- 홈 페이지에서 3초 간격으로 슬라이드를 전환하는 데 사용하였습니다.
- 주소 값이 바뀔 때마다 `useEffect`로 `fetch`를 실행하여 데이터를 가져오도록 하였습니다.

## 주요 기능

- **홈 페이지**: 3초 간격으로 랜덤 슬라이더가 전환되는 화면을 제공합니다.
- **카테고리 페이지**: `Comedy`, `Kids`, `Popular`, `Theatre` 등의 카테고리별 영화 목록을 표시합니다.
- **페이지 네비게이션**: 각 카테고리 페이지에서 1부터 10까지의 페이지 넘버를 통해 페이지 전환이 가능합니다.
- **영화 상세 페이지**: 영화 목록에서 `Details` 버튼을 클릭하여 영화의 사진, 날짜, 제목, 평균 평점, 러닝 타임, 인기도, 개요 등의 상세 정보를 표시합니다.
- **검색 기능**: 검색창에 검색어를 입력하면 검색 결과 리스트가 표시되며, `Details` 버튼을 클릭하여 해당 영화의 상세 정보를 볼 수 있습니다.

## 코드 설명

1. MainPage 컴포넌트:

- 이 컴포넌트는 홈 페이지의 메인 컨텐츠를 렌더링합니다.
- 랜덤으로 선택된 영화 이미지와 제목을 슬라이드 형식으로 보여줍니다.
- 3초마다 새로운 이미지가 표시됩니다.

2. MoviesList 컴포넌트:

- Popular, Theatre, Kids, Comedie 페이지에서 영화 목록을 렌더링합니다.
- 영화 목록이 로딩 중이면 로딩 스피너를 표시하고, 검색 결과가 없는 경우에는 해당 메시지를 표시합니다.
- 영화 목록이 있으면 각 영화의 이미지와 정보를 나열합니다.

3. Movie 컴포넌트:

- 영화 목록에서 각 영화의 개별 아이템을 렌더링합니다.
- 영화 포스터 이미지, 제목 을 표시합니다.
- 각 영화에는 "details" 버튼이 있어서 클릭하면 해당 영화의 상세 정보 페이지로 이동합니다.

4. Pagination 컴포넌트:

- 페이지네이션 기능을 제공합니다.
- 각 페이지 버튼을 클릭하면 해당 페이지로 이동합니다.
- "prev" 및 "next" 버튼을 클릭하여 이전 및 다음 페이지로 이동할 수 있습니다.

5. SearchForm 컴포넌트:

- 검색 기능을 제공합니다.
- 사용자가 입력한 검색어를 기반으로 영화를 검색하고 검색 결과를 표시합니다.
- 검색어를 입력하고 "search" 버튼을 클릭하면 해당 검색어를 포함한 영화 목록이 표시됩니다.

6. SingleMovie 컴포넌트:

- 개별 영화의 상세 정보를 표시합니다.
- URL의 파라미터로 전달된 영화 ID를 사용하여 영화 정보를 가져옵니다.
- 영화 포스터, 제목, 개봉일, 평균 평점, 영화 소개, 런타임, 인기도 등을 표시합니다.
- 로딩 중이면 로딩 스피너를 표시하고, 영화 정보가 없는 경우에는 해당 메시지를 표시합니다.

`App.js`

- 는 이 프로젝트의 주요 라우팅을 담당하는 컴포넌트입니다. 이 파일은 다양한 페이지와 해당 페이지에 필요한 레이아웃을 정의하고, 이를 통해 사용자에게 네비게이션 기능을 제공합니다.

`context.js`

- React 애플리케이션의 상태를 관리하는 데 사용되며, 애플리케이션 전반에 걸쳐 데이터를 공유하는 데 도움이 됩니다. 여기서 주요 기능을 설명하겠습니다.

1. AppContext: createContext() 함수를 사용하여 새로운 컨텍스트를 생성합니다. 이 컨텍스트는 전역으로 사용되며, 애플리케이션의 상태를 관리하는 데 필요한 데이터를 포함합니다.

2. API_KEY 및 base_url: API_KEY와 base_url은 The Movie Database (TMDB) API에 대한 접근을 위한 인증 및 요청 URL을 정의합니다.

3. AppProvider: AppProvider 컴포넌트는 애플리케이션의 상태를 제공하고, 상태를 변경하는 데 사용됩니다. useState 훅을 사용하여 로딩 상태, 영화 목록, 검색 쿼리, 및 페이지 인덱스를 관리합니다. 또한, useEffect 훅을 사용하여 페이지 로드 시 영화 목록을 가져오는 비동기 함수인 fetchMovies를 호출합니다.

4. fetchMovies: fetchMovies 함수는 API를 사용하여 영화 목록을 가져오는 비동기 함수입니다. useEffect 훅을 통해 컴포넌트가 마운트되거나 상태가 업데이트될 때마다 호출되며, URL 및 페이지 인덱스에 따라 영화 목록을 업데이트합니다.

5. useGlobalContext: useGlobalContext 함수는 useContext 훅을 사용하여 AppContext를 구독하는 컴포넌트에서 전역 컨텍스트를 사용할 수 있게 합니다. 이를 통해 컴포넌트들은 애플리케이션의 상태 및 상태 변경 함수에 접근할 수 있습니다.

이와 같이 context.js는 애플리케이션의 전역 상태를 관리하고, 컴포넌트 간에 데이터를 공유하는 데 사용됩니다. 이를 통해 애플리케이션의 코드를 더욱 모듈화하고 관리하기 쉽게 만들 수 있습니다.

`MainPage`

- 컴포넌트는 홈 페이지를 구성하는 부분입니다. 이 컴포넌트는 홈 화면에 랜덤으로 선택된 영화 이미지와 제목을 슬라이더로 표시합니다. 각 슬라이드에는 해당 영화의 포스터 이미지와 제목이 표시됩니다. 사용자는 이 슬라이드를 이전 또는 다음으로 이동할 수 있습니다. 또한 페이지 번호를 클릭하여 특정 페이지로 이동할 수 있습니다. 이 페이지 번호는 각 영화 리스트의 페이지를 나타냅니다. 만약 데이터가 로딩 중이라면 로딩 화면이 표시됩니다.

위 코드에서 MainPage 컴포넌트는 다음과 같은 주요 기능을 가지고 있습니다:

1. useGlobalContext 훅을 사용하여 전역 컨텍스트에서 필요한 데이터와 함수를 가져옵니다.
2. useEffect 훅을 사용하여 컴포넌트가 마운트될 때 랜덤한 값을 설정하고, 그 값을 인덱스로 사용하여 홈 화면에 표시할 영화를 선택합니다.
3. 페이지 번호를 클릭할 때 해당 페이지에 해당하는 영화 슬라이드를 보여주기 위한 handleClick 함수를 정의합니다.
4. 이전 페이지 또는 다음 페이지로 이동하기 위한 prevPage 및 nextPage 함수를 정의합니다.
5. 영화 데이터가 로딩 중이면 로딩 화면을 표시합니다.

이 컴포넌트는 홈 화면을 구성하는 주요 요소들을 제공하며, 사용자가 각 영화 슬라이드를 탐색하고 페이지를 이동할 수 있는 기능을 제공합니다.

`MoviesList`

- 컴포넌트는 Popular, Theatre, Kids, Comedie 페이지에서 사용되며, 각 페이지에서 영화 목록을 보여줍니다. 해당 페이지에서 사용되는 영화 목록은 전역 컨텍스트로부터 받아온 데이터를 기반으로 렌더링됩니다. 만약 데이터가 로딩 중이라면 로딩 화면을 표시하고, 데이터가 없다면 해당하는 메시지를 표시합니다.

이 컴포넌트는 다음과 같은 주요 기능을 가지고 있습니다:

1. useGlobalContext 훅을 사용하여 전역 컨텍스트에서 필요한 데이터를 가져옵니다.
2. 영화 데이터가 로딩 중이면 로딩 화면을 표시합니다.
3. 영화 목록이 없으면 해당하는 메시지를 표시합니다.
4. 영화 데이터가 있으면 각 영화를 나타내는 Movie 컴포넌트를 렌더링합니다.
5. 영화 페이지 번호를 설정하고 변경하기 위한 PageNumber 컴포넌트를 렌더링합니다.

`Movie`

- 컴포넌트는 각 영화를 나타내는데 사용되며, 해당 영화의 포스터 이미지, 제목 정보를 보여줍니다. 또한 각 영화에 대한 자세한 정보를 볼 수 있는 링크를 제공합니다.

`Pagination`

- 컴포넌트는 페이지 번호를 나타내며, 이전 페이지 또는 다음 페이지로 이동할 수 있는 버튼을 제공합니다. 페이지 번호를 클릭하면 해당 페이지로 이동하도록 설정되어 있습니다.

`SearchForm`

- 서치 폼 컴포넌트는 사용자가 영화를 검색할 수 있도록 제공됩니다. 사용자가 검색어를 입력하고 검색 버튼을 클릭하면 해당 검색어를 사용하여 영화를 검색하고, 검색 결과를 화면에 표시합니다. 이를 위해 다음과 같은 기능을 수행합니다:

1. 검색어 입력: 사용자는 검색어를 입력할 수 있는 입력 필드를 제공받습니다.
2. 검색 기능: 사용자가 검색어를 입력하고 검색 버튼을 클릭하면, 해당 검색어를 사용하여 영화를 검색합니다.
3. 검색 결과 표시: 검색 결과에 따라 검색된 영화 목록을 화면에 표시합니다.
4. 검색어 변경 감지: 사용자가 검색어를 입력하는 동안, 입력된 검색어의 변화를 감지하여 실시간으로 검색어를 업데이트합니다.
5. 검색 버튼 클릭 핸들링: 사용자가 검색 버튼을 클릭하면, 입력된 검색어를 사용하여 영화를 검색하고 결과를 화면에 표시합니다.
6. 포커스 관리: 검색어 입력 필드에 초기 포커스를 설정하여 사용자 편의성을 높입니다.

이 컴포넌트는 React의 useRef, useEffect 훅을 사용하여 상태 관리 및 렌더링을 수행하고, 전역 컨텍스트를 활용하여 다른 컴포넌트에서도 검색 상태를 공유합니다. 검색어 입력, 검색 버튼 클릭 등의 이벤트에 대한 핸들러 함수를 정의하여 해당 기능을 수행합니다.

`SingleMovie`

- 영화의 상세 정보를 보여주는데 사용됩니다.

1. useParams: React Router의 useParams 훅을 사용하여 URL에서 파라미터를 추출합니다. 이 경우에는 영화의 ID를 추출합니다.

2. useState: React의 useState 훅을 사용하여 movie와 loading 상태를 관리합니다. movie 상태는 영화의 정보를 저장하고, loading 상태는 데이터를 불러오는 동안 로딩 상태를 표시합니다.

3. useEffect: React의 useEffect 훅을 사용하여 컴포넌트가 마운트되거나 id가 변경될 때마다 fetchSingleMovie 함수를 실행합니다. 이 함수는 영화 정보를 API에서 가져와 movie 상태를 업데이트합니다.

4. fetchSingleMovie: useCallback을 사용하여 메모이제이션된 콜백 함수를 생성합니다. 이 함수는 API를 호출하여 영화의 상세 정보를 가져오는 비동기 함수입니다.

5. 렌더링: loading이 true일 경우 로딩 상태를 표시하고, movie가 null이면 "no movie to display" 메시지를 표시합니다. 그렇지 않은 경우에는 영화의 상세 정보를 화면에 표시합니다.

6. API 호출: fetchSingleMovie 함수 내부에서 API를 호출하여 영화의 상세 정보를 가져옵니다. 가져온 정보는 movie 상태에 저장됩니다.

7. 이미지 및 정보 표시: API에서 가져온 영화 정보를 사용하여 영화의 제목, 개봉일, 평점, 런타임, 인기도 등의 정보를 표시합니다. 영화 포스터는 이미지 경로를 사용하여 표시합니다.
